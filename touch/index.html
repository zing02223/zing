<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui" />  
  <title></title>
  <script src="js/jquery-1.8.3.js"></script>
  <style type="text/css">
    body{
      margin:0;
    }
    #demo{
      width:200px;
      height:60px;
      background:red;
    }
  </style>
</head>
<body>
  <div id="game"></div>
<script type="text/javascript">
  $(function(){
    function Game(){
    }
    Game.prototype = {
      constructor : Game,
      createDom : function(width,height){
      var width = (width || "300")+"px";
      var height = (height || "80")+"px";
      var domStyle = "<style>"
        +"#game{background:red;position:relative;width:"+width+";height:"+height+";}"
        +"#game_bg{background:blue;position:absolute;width:"+width+";height:"+height+";left:0;top:0}"
        +"#game_cover{background:green;position:absolute;width:"+width+";height:"+height+";left:0;top:0}"
        +"</style>";
        var dom = domStyle + "<canvas id='game_bg'></canvas><canvas id='game_cover'></canvas>";
        $("#game").append(dom);
      },
      selectBg:function(){
        $("#game_cover").css("background","yellow");
        console.log($("game_bg"));
      },
      init : function(){
        /*获取后台传书的数据*/
        var res = {"success":true,"data":[{"word":"钱","type":1,"status":0,"user_id":1111,"open_id":"aabbcc","remark":""},{"word":"升","type":1,"status":0,"user_id":1111,"open_id":"adsfjhasdf","remark":""},{"word":"升","type":1,"status":0,"user_id":1111,"open_id":"adsfjhasdf","remark":""}]};
        console.log(res.data);

        this.createDom();
        this.selectBg();
        /*生成canvas 前景图和背景图标签*/    
        console.log('init');

      }
    }
    var game = new Game();
    game.init();


    /*
    var act = {};
    function ent(event){
      var e = event.changedTouches[0];
      return e.pageX+" "+e.pageY;
    }
    act.down = function(event){
      console.log("click",ent(event));
    };
    act.move = function(event){
      console.log("move",ent(event));
    };
    act.up = function(event){
      console.log("up",ent(event));
    };
    document.getElementById('demo').addEventListener('touchstart',act.down,false);
    document.getElementById('demo').addEventListener('touchmove',act.move,false);
    document.getElementById('demo').addEventListener('touchend',act.up,false);
    */
  });
</script>
</body>
</html>
